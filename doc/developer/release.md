# Data Platform Release Process

This document contains notes to help streamline the process of creating a Data Platform release.


## complete development work

Make sure pom.xml for dp-grpc, dp-service reflect current version number!

### data-platform
- add/modify scripts as needed


## update documentation
- dp-grpc
  - update README.md API docs
  - in-line comments in proto files
- dp-service
  - update README.md
  - update developer-notes.md and UML diagrams for any important new features / frameworks
  - add comments to application.yml for any new config resources
  - update java command line docs for running new applications etc
  - update running.md with details about running applications and configuration
- data-platform
  - create release notes
  - update doc/install/quick-start.md, installation.md
  - update README.md
  - update README.md with new scripts etc
  - update release process (this doc)

Make sure this is all done before adding tags etc because it's a pain removing tags, deleting releases, adding tags, creating releases etc.


## merge changes from fork's development branch to upstream's main branch

### create pull requests to merge dev branch in fork to upstream

If working in a fork, create a github pull request to merge the development branch in the fork to the development branch in the upstream repo.

### create pull requests to merge dev branch in upstream to main branch in upstream

Create a pull request to merge the dev branch on the upstream to the main branch on the upstream.


## create git tags for release in upstream/main

Need to do this in the upstream for all repos: dp-grpc, dp-service, dp-desktop-app, data-platform. Creating a "rel-" tag in each repo will automatically run the release workflow to create a release with the same name as the tag and publish artifacts appropriate for the repo. The tag should be created manually to avoid a race condition between the repo workflows as they publish their releases:
```
git tag rel-1.12.0
git push origin rel-1.12.0
```


## edit github release docs for each repo

Need to do this in all repos: dp-grpc, dp-service, dp-desktop-app, data-platform.  The master release notes should be added to the data-platform repo release.  Minimally, edit the release notes for each of the other repos to point to the data-platform release notes.  The release for each repo should already contain the artifacts appropriate for that repo (as generated by the release workflow).
